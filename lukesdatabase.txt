create database lukedb;
use lukedb;
create table patient(
patient_id int unsigned not null auto_increment primary key,
patient_fname varchar(30) not null,
patient_lname varchar(30) not null,
patient_minitial char(1) not null,
school_number int references school(school_id) on update cascade,
age tinyint(3) not null,
sex varchar(1) not null,
present_address varchar(150) null,
provincial_address varchar(150) null,
civil_status char(20) null,
birthdate date null,
birthplace varchar(150) null,
religion varchar(30) null,
occupation varchar(50) null,
monthly_income varchar(15) null,
contact_number tinyint(30) unsigned null,
highest_educ_attainment varchar(50) null,
patient_remark varchar(500) null
);
create table ear(
patient_id int references patient(patient_id) on update cascade,
left_ear varchar(5) null,
right_ear varchar(5) null,
ear_remark varchar(500) null
);
create table school(
school_id int unsigned not null auto_increment primary key,
school_name varchar(100) not null,
location varchar(150) not null,
contact_person varchar(150) not null,
activity varchar(30) not null,
date_visited date not null
);
create table eye(
patient_id int references patient(patient_id) on update cascade,
lvisual_acuity varchar(8) not null,
rvisual_acuity varchar(8) not null,
lwith_pinhole varchar(8) not null,
rwith_pinhole varchar(8) not null,
r_rx varchar(50) not null,
l_rx varchar(50) not null,
pd varchar(50) not null,
eye_remark varchar(500)
);
CREATE TABLE IF NOT EXISTS `tbl_album` (
  `albumid` int(10) NOT NULL AUTO_INCREMENT,
  `name` varchar(500) NOT NULL,
  `adesc` varchar(1000) NOT NULL,
  `image` varchar(500) NOT NULL,
  `date` datetime NOT NULL,
  `status` varchar(10) NOT NULL,
  PRIMARY KEY (`albumid`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=6 ;

CREATE TABLE IF NOT EXISTS `tbl_gallery` (
  `gid` int(10) NOT NULL AUTO_INCREMENT,
  `aid` int(10) NOT NULL,
  `gname` varchar(1000) NOT NULL,
  `gimages` varchar(1000) NOT NULL,
  `date` datetime NOT NULL,
  `status` varchar(20) NOT NULL,
  PRIMARY KEY (`gid`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=16 ;
INSERT INTO school (school_id, school_name, location, contact_person, activity, date_visited) VALUES ('1', '-', 'NONE', 'NONE', 'NONE', '');